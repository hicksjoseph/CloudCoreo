<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="CloudCoreo Directory structure">
<meta name="keywords" content=" ">
<title>CloudCoreo Directory structure | CloudCoreo Knowledge Base</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://kb.cloudcoreo.comfeed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> CloudCoreo Knowledge Base</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">CloudCoreo Resources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://www.cloudcoreo.com" target="_blank">Website</a></li>
                        
                        
                        
                        <li><a href="https://github.com/CloudCoreo" target="_blank">Github Repo</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Products<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="index.html">CloudAudit</a></li>
                        
                        
                        
                        <li><a href="conceptdocs_overview.html">Concept Docs</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
			<li><a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:info@cloudcoreo.com?subject=CloudCoreo feedback f eedback&body=I have some feedback about the CloudCoreo Directory structure page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a><li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="CloudCoreo Directory structure">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          










<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">Documentation </li>
    
    
    
    <li>
        <a href="#">Concept Docs</a>
        <ul>
            
            
            
            <li><a href="conceptdocs_overview.html">Overview</a></li>
            
            
            
            
            
            
            <li><a href="conceptdocs_compositecreation.html">Composite Creation</a></li>
            
            
            
            
            
            
            <li><a href="conceptdocs_advancedcomposites.html">Advanced Composite Creation</a></li>
            
            
            
            
            
            
            <li><a href="conceptdocs_cli.html">CloudCoreo CLI</a></li>
            
            
            
            
            
            
            <li><a href="conceptdocs_configurationfiles.html">Configuration Files</a></li>
            
            
            
            
            
            
            <li class="active"><a href="conceptdocs_directorystructure.html">Directory Structure</a></li>
            
            
            
            
            
            
            <li><a href="conceptdocs_variables.html">Variables</a></li>
            
            
            
            
            
            
            <li><a href="conceptdocs_webui.html">CloudCoreo Web UI</a></li>
            
            
            
            
        </ul>
        
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
        <div class="post-header">
   <h1 class="post-title-main">CloudCoreo Directory structure</h1>
</div>



<div class="post-content">

   
    <div class="summary">CloudCoreo Directory structure</div>
   

    

    

    

    <a target="_blank" href="https://github.com/CloudCoreo/CloudCoreo/tree/gh-pages/pages/_pages/conceptdocs/conceptdocs_directorystructure.html.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>
    

    

  <h2 id="directory-structure">Directory Structure</h2>
<p>CloudCoreo relies on convention over configuration for the most part, achieving simplicity and flexibility. Each repository can contain whatever you want, which is useful for running scripts or laying down solid code. There are some directories that we reserve the right to, and below you’ll see a list of those directories and their functions.</p>

<p>The directory structure precisely relates to how CloudCoreo actually works. The convention we have defined dictates what gets overridden, what runs during the boot of a server, what runs as Cloud Services, and more.  The <a href="https://github.com/CloudCoreo/cloudcoreo-cli">CLI Tool</a> will do much of the work for you, but you should still know what it all means. That’s where this page, and the wealth of knowledge included in it, is going to come in handy. Read on!</p>

<h3 id="extends">extends</h3>
<p><code class="highlighter-rouge">extends</code> is one of the most basic, but important, concepts in CloudCoreo. This directory enables you to <strong>leverage the work of others</strong> and bring it all within your own deployment. You can literally crowdsource your stack, which saves you oodles of time.</p>

<p><code class="highlighter-rouge">extends</code> is the base for anything you are doing in this stack. <strong>Any and all work defined in <code class="highlighter-rouge">extends</code> will be completed before moving on to the parent directory.</strong></p>

<h3 id="stack-">stack-*</h3>
<p>Any subdirectory beginning with <code class="highlighter-rouge">stack-</code> is reserved in CloudCoreo. The work in these directories is completed after the <code class="highlighter-rouge">extends</code> directory (if it exists) but before anything else in the current repository. This makes it suitable to <em>add an external stack</em> to your stack.</p>

<p>When adding a stack, consider the needs of people <em>overriding</em> or <em>extending</em> your stack in the future. For instance, creating blank directories for dropping in bits of code and overrides will make everyone’s life easier in the future. To help ease the administration efforts of creating these directories, use <code class="highlighter-rouge">stack-</code> in the CLI tool.</p>

<p><strong>But what does <code class="highlighter-rouge">stack-</code> do?!</strong></p>

<p>Say you want to add a stack from Git (github.com:example/tomcat.git) into your own stack and call it ‘tomcat’. The ideal directory structure would require you to create a <code class="highlighter-rouge">stack-tomcat</code> directory to signify that it’s special within the CloudCoreo framework. Next, create an <code class="highlighter-rouge">extends</code> directory inside that, and extend the stack into this directory. Now you are utilizing both concepts. Because you used a <code class="highlighter-rouge">stack-*</code> directory to the <code class="highlighter-rouge">&lt;repository-dir&gt;</code>, it will run <strong>after</strong> <code class="highlighter-rouge">&lt;repository-dir&gt;/extends</code>. Because you have added the stack to <code class="highlighter-rouge">&lt;repository-dir&gt;/stack-tomcat/extends</code> it will run <strong>before</strong> everything else inside the <code class="highlighter-rouge">stack-tomcat*</code> directory. Now, anyone utilizing your stack has a convenient place to insert configuration and setup between your stack and the added Tomcat stack.</p>

<h3 id="services">services</h3>
<p>The <code class="highlighter-rouge">services</code> directory exists to define the stack’s interaction with the cloud provider in which the server is launched; specifically, the <code class="highlighter-rouge">&lt;repository-dir&gt;/services/config.rb file</code>. This is in-depth enough to contain its own documentation section!</p>

<h3 id="boot-scripts">boot-scripts</h3>
<p>The <code class="highlighter-rouge">&lt;repository-dir&gt;/boot-scripts</code> directory exists to define boot time configuration of a server. If this directory exists, CloudCoreo will run scripts as defined by:</p>

<ol>
  <li>The directory layout (<code class="highlighter-rouge">extends</code>, <code class="highlighter-rouge">stack-*</code>, etc.)</li>
  <li>Then the order defined in the <code class="highlighter-rouge">order.yaml</code> file within this directory</li>
</ol>

<p>As an example, if your directory structure contains the following paths CloudCoreo will run each script in the <code class="highlighter-rouge">extends/stack-example/extends/boot-scripts/order.yaml</code> file before moving on to the <code class="highlighter-rouge">extends/stack-example/boot-scripts/order.yaml</code>:</p>

<ul>
  <li><code class="highlighter-rouge">extends/stack-example/extends/boot-scripts</code></li>
  <li><code class="highlighter-rouge">extends/stack-example/boot-scripts</code></li>
</ul>

<p>As a matter of fact, each of the scripts in the base directory can be overridden at any point.</p>

<h3 id="operational-scripts">operational-scripts</h3>
<p>The files contained within the <code class="highlighter-rouge">&lt;repository-dir&gt;/operational-scripts</code> directory are scripts you might want to run on an ad-hoc basis from the CloudCoreo GUI or CLI. The structure and scripts within this directory honor the order and overrides defined within the rest of this document.</p>

<h3 id="shutdown-scripts">shutdown-scripts</h3>
<p>The <code class="highlighter-rouge">&lt;repository-dir&gt;/shutdown-scripts</code> directory contains scripts that CloudCoreo will <strong>attempt</strong> to run. These are not guaranteed because many times failures are a complete loss of a system, with no warning whatsoever. The structure and scripts within this directory honor the order and overrides defined within the rest of this document.</p>

<h3 id="overrides">overrides</h3>
<p>Anything contained in this directory will act as an override for the stack in which it is contained.</p>

<p>The paths should be considered relative to the parent of this directory.</p>

<p>If you have a directory structure like this…</p>

<div class="highlighter-rouge"><pre class="highlight"><code>+-- parent
|   +-- overrides
|   |   +-- stack-a
|   |   |   +-- boot-scripts
|   |   |   |   +-- order.yaml
|   +-- stack-a
|   |   +-- boot-scripts
|   |   |   +-- order.yaml
</code></pre>
</div>
<p>The <code class="highlighter-rouge">order.yaml</code> file will be ignored in the <code class="highlighter-rouge">stack-a directory</code>, and instead the <code class="highlighter-rouge">overrides/stack-a order.yaml</code> file will be used, because the directory structure within the override directory matches the structure of the parent.</p>


    <div class="tags">
        
    </div>

    

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2016 CloudCoreo. All rights reserved. <br />
<span>Page last updated:</span> November 9, 2016<br/> Site last generated: Nov 10, 2016 <br />
<p><img src="images/company_logo.png" alt="CloudCoreo"/></p>
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

</html>